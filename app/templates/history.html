{% extends "layout.html" %}
{% block body %}


<hr />
<div class="panel panel-default" id="history-list">
	<div class="panel-heading">
		<form class="form-inline">
  		<fieldset class="form-group">
	  		<label>Filter: </label>
	  		<input class="search" placeholder="Search" />
	  	</fieldset>
			<div class="checkbox pull-right">
		    <label>
		      <input type="checkbox" id="eligibleDelays"> Only show delays of 15 minutes or greater
		    </label>
	  	</div>
	</div>
	<table class="table table-striped table-hover">
		<thead>
			<tr>
				<th><a href="#" class="sort" data-sort="date">Day</a></th>
				<th colspan="2"><a href="#" class="sort" data-sort="line">Line</a></th>
				<th>Direction</th>
				<th><a href="#" class="sort" data-sort="time">Time</a></th>
				<th><a href="#" class="sort" data-sort="length">Delay Length</a></th>
				<th><a href="#" class="sort" data-sort="excuse">Reason / Excuse</a></th>
			</tr>
		</thead>
		<tbody class="list">
			<tr>
				{% for k in items %}
				<td class="date">{{k.train_date.strftime("%B %d, %Y")}} </td>
				<td class="line__{{k.route|replace(' ', '')|lower}}"></td>
				<td class="line">{{k.route}} </td>
				<td>{{k.fromStop}} <i class="fa fa-long-arrow-right"></i> {{k.toStop}}</td>
				<td class="time">
					<code>{{k.train_time}}</code>
				</td>
				<td class="length">			
					<code>{{k.delay_time}}</code>
				</td>
				<td class="excuse">
					{{k.message}}
				</td>

			</tr>
			{% endfor %}
		</tbody>
	</table>
	<nav><ul class="pagination"></ul></nav>
</div>

<script src="/static/js/list.min.js"></script>
<script src="/static/js/list.pagination.min.js"></script>
<script type="text/javascript">
	var options = {
    valueNames: [ 'date', 'line', 'time', 'length' , 'excuse'],
    page: 50,
    plugins: [ ListPagination({left: 1, right: 1, innerWindow: 1}) ]
	};

	var routelist = new List('history-list', options) || "";
</script>

{% endblock %}
